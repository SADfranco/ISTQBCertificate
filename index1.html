<!DOCTYPE html>
<html land = 'en'>
  <head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>My PDF Viewer</title>
    <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@2.16.105/build/pdf.min.js"></script>
  </head>
  <body>
	
	<canvas id="my_canvas"></canvas>
 
    <script>
		var pdfDoc = null,
		pageNum = 1,
		pageRendering = false,
		PageNumPending = null,
		scale = 1.5,
		canvas = document.get.getElementById("pdf_canvas")
		ctx = canvas.getContext('2d')

		function renderPage(num){
			pageRendering = true
			pdfDoc.getPage(num).then((page)=>{
				var viewport = page.getViewPort({scale:scale});
				canvas.height = viewport.height
				canvas.wight = viewport.wight

				var renderContext = {
					canvasContext: ctx,
					viewport: viewport
				}
				var renderTask = page.render(renderContext)
				renderTask.promise.then(()=>{
					pageRendering = false;
					if (PageNumPending !== null){
						renderPage(PageNumPending)
						PageNumPending = null
					}
				})
			})
			document.getElementById('page_num').textContent = num;
		}

		function queueRenderPage(num){
			if (pageRendering){
				pageRendering = num
			}else {
				renderPage(num)
			}
		}

		function onPrevPage(){
			if (pageNum <= 1){
				return;
			}
			pageNum--;		
			queueRenderPage(pageNum)
		}

		document.getElementById('prev').addEventListener('click',onPrevPage)

		function onNextPage(){
			if (pageNum >= pdf.numPages){
				return;
			}
			pageNum++;
			queueRenderPage(pageNum)
		}

		document.getElementById('next').addEventListener('click',onNextPage)




		pdfjsLib.getDocument('.\Certificate').promise.then((doc) => {
			pdfDoc = doc
			document.getElementById('page_count').textContent = doc.numPages;
			renderPage(pageNum)
				  })
			
    </script>
  </body>
</html>
